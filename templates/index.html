{% extends "homeLayout.html" %}

{% block content %}

<main class="container-fluid">
    <div class="row">
        <nav class="navbar navbar-expand-md navbar-dark fixed-top" style="background-color: #005580;">
            <a class="navbar-brand title" href="#">1520_Project</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div id="navbarNavDropdown" class="navbar-collapse collapse">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Features</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Pricing</a>
                    </li>

                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="">Register</a>
                    </li>
                </ul>
            </div>
        </nav>

        <div class="col-sm-9 col-md-6 col-lg-8">
            <div class="paddingTop">
                <div id="googleMap"></div>
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="col-sm-3 col-md-6 col-lg-4">
            <div class="section-content">

            </div>
        </div>
    </div>
</main>


<script>
    var lat;
    var long;
    var my_map;
    var position;

    function myMap() {
        var map_cent = new google.maps.LatLng(40.440624, -79.995888);

        my_map = new google.maps.Map(document.getElementById("googleMap"), {
            center: map_cent,
            zoom: 12
        });
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
                var pos = {
                    lat: position.coords.latitude,
                    lng: position.coords.longitude
                };
                my_map.setZoom(16);
                my_map.setCenter(pos);
            });
        }
        var request = {
            location: map_cent,
            radius: "1500",
            type: "movie_theater"
        };
        service = new google.maps.places.PlacesService(my_map);
        service.textSearch(request, callback);
    }


    function callback(results, status) {
        console.log(status);
        if (status == google.maps.places.PlacesServiceStatus.OK) {
            for (var i = 0; i < results.length; i++) {
                var place = results[i];
                createMarker(place);
                console.log(place);
            }
        }
    }

    function createMarker(place) {
        var marker = new google.maps.Marker({
            map: my_map,
            position: place.geometry.location
        });
    }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAU5KAyTuvKuS95KySyAzeCPsBY_pj2lGw&libraries=places&callback=myMap"></script>

{% endblock %}

<header>
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <a class="navbar-brand title" href="#">1520_Project</a>
    </nav>
</header>

<footer class="footer fixed-bottom bg-dark">
    <div class="container">
        <span class="text-muted">Place sticky footer content here.</span>
    </div>
</footer>